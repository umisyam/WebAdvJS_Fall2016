<!DOCTYPE html>
<html>
<head>
	<title>Web Advanced JavaScript: Fall 2015</title>
	<meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
	<link rel="stylesheet" href="css/normalize.min.css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>

	<div id="main-container"></div>
	<!-- Templates -->

	<!-- Lobby -->
	<script id="tpl-lobby" type="text/html">
		
		<h1>Chat Rooms</h1>

		<!-- List of chat rooms -->
		<div id="list-container">
			<% for(var roomId in data){ %>
				<div class="room-item">
					<a class="body-main" href="#/room/<%= roomId %>"><%= data[roomId].name %></a><br/>
					<div class="body-aux">
						(<%= data[roomId].members %> users)
					</div>
				</div>
			<% } %>
		</div>

		<!-- Input -->
		<div id="chat-input">
			<div>
				<input type="text" id="js-ipt-room-name" placeholder="Create a new room">
			</div>
			<div>
				<button id="js-btn-create-room">CREATE</button>
			</div>
		</div>		

	</script>

	<!-- Chatroom -->
	<script id="tpl-room" type="text/html">
		<a href="#/lobby">< Back to Lobby</a>		
		<h1><%= data.name %></h1>
		
		<div class="list-container">		
		<!-- Messages -->
			<div id="chat-container"></div>
		</div>

		<div id="chat-input">
				<input type="text" id="js-ipt-text" placeholder="Type here">
				<button id="js-btn-send">SEND</button>
		</div>
	</script>

	<!-- Chat item -->
	<script id="tpl-chat-item" type="text/html">
		<div class="chat-item">
			<div class="body-aux">
				<%= data.timestamp %>
			</div>
			<div class="body-main">
				<%= data.msg %>
			</div>
		</div>
	</script>		

	<!-- Don't add this as a file!
		 The path will be created when you run the server -->
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="js/jquery-min.js"></script>
	<script type="text/javascript" src="js/underscore-min.js"></script>
	<script type="text/javascript" src="js/moment.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
</body>
</html>